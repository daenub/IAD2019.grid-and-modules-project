@import "reset";
@import "variables";
@import "mixins";
@import "typography";

html {
  font-size: $root-font-size;
}

body {
  font-family: "Roboto Condensed", sans-serif;
  font-size: 4vw;
  text-transform: uppercase;
  color: $black;
}

// temporary
p {
  // display: inline;
}

.verse-1,
.verse-2,
.chorus--1,
.chorus--2,
.chorus--3,
.bridge {
  margin-bottom: 20vmin;
}

.verse-1 {
  position: fixed;
  top: 50%;

  display: grid;
  grid-auto-flow: dense;
  grid-template-columns: 2fr [left] 3fr [right] 4fr 3fr;
  grid-gap: 0 1rem;

  > * {
    opacity: 0;
    transition: .3s ease;
  }

  .this-is--1,
  .these-are,
  .this-is--2 {
    grid-column: left;
    text-align: right;
  }

  .the-start,
  .your-heart,
  .day-born,
  .the-sun,
  .your-lungs,
  .day-born {
    grid-column: right;
  }

  .this-is--1 {
    // grid-row: 1 / span 4;
  }

  .the-start {
    opacity: 1;
  }

  &.scene-1 {
    .this-is--1 {
      opacity: 1;
    }
  }

  &.scene-2 {
    .this-is--1,
    .your-heart {
      opacity: 1;
    }

    .the-start,
    .your-heart,
    .day-born--1,
    .the-sun,
    .your-lungs,
    .day-born--2 {
      transform: translateY(-1em);
    }
  }

  &.scene-3 {
    .this-is--1,
    .your-heart,
    .day-born--1 {
      opacity: 1;
    }

    .the-start,
    .your-heart,
    .day-born--1,
    .the-sun,
    .your-lungs,
    .day-born--2 {
      transform: translateY(-2em);
    }
  }

  &.scene-4 {
    .this-is--1,
    .your-heart,
    .day-born--1,
    .the-sun {
      opacity: 1;
    }

    .the-start,
    .your-heart,
    .day-born--1,
    .the-sun,
    .your-lungs,
    .day-born--2 {
      transform: translateY(-4em);
    }
  }

  &.scene-5 {
    .this-is--1,
    .your-heart,
    .day-born--1,
    .the-sun,
    .these-are,
    .your-lungs {
      opacity: 1;
    }

    .this-is--1,
    .these-are,
    .this-is--2 {
      transform: translateY(-1em);
    }

    .the-start,
    .your-heart,
    .day-born--1,
    .the-sun,
    .your-lungs,
    .day-born--2 {
      transform: translateY(-5em);
    }
  }

  &.scene-6 {
    .this-is--1,
    .your-heart,
    .day-born--1,
    .the-sun,
    .these-are,
    .your-lungs,
    .this-is--2,
    .day-born--2 {
      opacity: 1;
    }

    .this-is--1,
    .these-are,
    .this-is--2, {
      transform: translateY(-2em);
    }

    .the-start,
    .your-heart,
    .day-born--1,
    .the-sun,
    .your-lungs,
    .day-born--2 {
      transform: translateY(-6em);
    }
  }
}

.verse-1-trigger-scene-1 {
  margin-top: 100vh;
}

@for $i from 1 through 6 {
  .verse-1-trigger-scene-#{$i} {
    width: 2px;
    height: 40vh;
    display: block;
    background-color: lighten(red, $i * 5%);
  }
}

.spacer--50 {
  height: 50vh;
}

.verse-2 {
  display: grid;
  grid-auto-flow: dense;
  grid-template-columns: 2fr [left] 3fr [right] 4fr 3fr;
  grid-gap: 0 1rem;

  .these-are,
  .deep-in,
  .this-is,
  .where-most,
  .comes,
  .from-the {
    grid-column: left;
    text-align: right;
  }

  .the-scars,
  .your-hear,
  .place-born,
  .the-hole,
  .your-soul,
  .ripping-out,
  .places-torn {
    grid-column: right;
  }
}

@function infinite-shadow($ch) {
  $str: "";

  @for $i from 1 through 3 {
    @if ($i != 1) {
      $str: $str + ", ";
    }
    $str: $str + ($ch * $i) + "ch 0 currentColor, ";
    $str: $str + ($ch * $i * -1) + "ch 0 currentColor";
  }

  @return $str;
}

.chorus {
  text-align: center;
  font-size: 1.5em;

  .i-am,
  .always,
  .yours {
    display: block;
  }

  .always {
    text-shadow: #{infinite-shadow(7)};
  }
}


.bridge {
  display: grid;
  grid-template-columns: repeat(6, 10rem);
  grid-template-rows: repeat(6, 10rem);
  grid-gap: 0.5rem;
  justify-content: center;

  .hallelujah {
    transition: .3s ease-in-out opacity;
  }

  .caving {
    transition: .3s ease-in-out opacity;
    opacity: 0;
  }

  &:hover {
    .hallelujah {opacity: 0;}
    .caving     {opacity: 1;}
  }

  .hallelujah--h-1  {grid-area: 1 / 1;}
  .hallelujah--a-1  {grid-area: 1 / 3;}
  .hallelujah--l-1  {grid-area: 2 / 2;}
  .hallelujah--l-2  {grid-area: 2 / 4;}
  .hallelujah--e    {grid-area: 3 / 3;}
  .hallelujah--l-3  {grid-area: 3 / 5;}
  .hallelujah--u    {grid-area: 4 / 3;}
  .hallelujah--j    {grid-area: 4 / 4;}
  .hallelujah--a-2  {grid-area: 5 / 1;}
  .hallelujah--h-2  {grid-area: 6 / 5;}

  .caving--i-1  {grid-area: 1 / 1;}
  .caving--m    {grid-area: 1 / 2;}
  .caving--c    {grid-area: 2 / 4;}
  .caving--a    {grid-area: 2 / 5;}
  .caving--v    {grid-area: 3 / 2;}
  .caving--i-2  {grid-area: 3 / 3;}
  .caving--n-1  {grid-area: 4 / 3;}
  .caving--g    {grid-area: 5 / 4;}
  .caving--i-3  {grid-area: 6 / 2;}
  .caving--n-2  {grid-area: 6 / 3;}
}
